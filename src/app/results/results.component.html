<div class="row px-3 pt-3 mb-2">
    <div class="col">
        <div class="card bg-white shadow rounded">
            <div class="card-body">
                <h2 class="h2 text-center mb-3">Resultados</h2>
                <div class="card-text mb-3">
                    En esta sección, se recolectan los casos más relacionados que satisfacen al caso dado por el usuario. Puede 
                    Visualizar cada caso independiente y descargar la información que más se ajuste a sus necesidades.
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="isLoading" class="text-center pt-5 mt-5">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div><br>
    <span>Buscando similitudes...</span>
</div>

<div *ngIf="!isLoading" class="row px-3 pt-1 mb-2">
    <div class="col">
        <div class="card bg-white shadow rounded">
            <div class="card-body">
                <!-- Descripción -->
                <div class="row mb-3">
                    <div class="col-xs-12 col-sm-12 col-md-3">
                        <div class="row">
                            <div class="col">
                                <span class="card-title">Resumen del caso:</span>
                                <br>
                                <span class="card-text">
                                    Descrición breve del caso dado.
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-9">
                        <div class="row border border-black border-1 rounded px-2 py-3">
                            <div class="col">
                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="2">{{ textArea }}</textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row mb-3">
                    <div class="col">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>#</th>
                                        <th>Título del caso</th>
                                        <th>Categoría</th>
                                        <th class="text-center">Similitud (%)</th>
                                        <th>Resultado</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="align-middle">1</td>
                                        <td class="align-middle">Procedimiento para el cálculo de materiales...</td>
                                        <td class="align-middle">Construcción - Losas</td>
                                        <td class="text-center align-middle">
                                            <span class="bg-success text-white px-3 py-1 rounded fw-semibold">79%</span>
                                        </td>
                                        <td class="align-middle">
                                            <span class="bg-success text-white px-3 py-1 rounded fw-semibold">Exitoso</span>
                                        </td>
                                        <td class="align-middle align-middle">
                                            <button class="btn btn-info py-1 px-2 me-2" (click)="open(content)">
                                                <i class="bi bi-eye-fill me-2"></i>Detalles
                                            </button>
                                            <button class="btn btn-primary py-1 px-2">
                                                <i class="bi bi-cloud-arrow-down-fill me-2"></i>Descargar
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row mt-2 mb-3">
                    <div class="d-flex justify-content-center">
                        <div class="col-md-2">
                            <a class="btn btn-warning w-75 fw-semibold">Revaluar</a>
                        </div>
                        <div class="col-md-2">
                            <a class="btn btn-info w-75 fw-semibold" href="/services/">Guardar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Mi modal Start -->
<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header bg-info bg-opacity-100 text-white">
        <h4 class="modal-title text-white" id="modal-basic-title">Exportar Lista de Pacientes</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
    </div>
    <div class="modal-body fs-4 bg-white">
        <form>
            <div class="row">
                <div class="col">
                    <label class="fw-semibold">Título del Caso:</label>
                    <div class="bg-secondary bg-opacity-25 p-2">
                        <span>Procedimiento para el calculo de materiales de losa</span>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col">
                    <label class="fw-semibold">Descripción del proyecto:</label>
                    <div class="bg-secondary bg-opacity-25 p-2">
                        <span>El usuario desea instalar una nueva losa para la barra de su cocina. La barra actual es pequeña y anticuada, y busca una actualización moderna y funcional.</span>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col">
                    <label class="fw-semibold">Especificaciones de la Losa:</label>
                    <div class="bg-secondary bg-opacity-25 p-2">
                        <span>
                            <ul>
                                <li>Material: Granito negro</li>
                                <li>Dimensiones: 2 metros de largo, 0.6 metros de ancho, y 4 centímetros de espesor. </li>
                                <li>Acabado: Pulido brillante</li>
                                <li>Borde: Redondeado suave</li>
                            </ul>
                        </span>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col">
                    <div class="col">
                        <label class="fw-semibold">Proceso de Instalación:</label>
                        <div class="bg-secondary bg-opacity-25 p-2">
                            <span>
                                <ol>
                                    <li>Medición y Diseño: Se realizan medidas precisas en la cocina de Juan para asegurar un ajuste perfecto. Se presenta un diseño detallado para su aprobación.</li>
                                    <li>Preparación de la Superficie: Se retira la antigua barra y se prepara la superficie para la instalación de la nueva losa.</li>
                                    <li>Corte y Acabado del Material: Se corta el granito según las dimensiones especificadas y se le da el acabado pulido y el borde redondeado.</li>
                                    <li>Instalación: La losa de granito se instala cuidadosamente en la cocina de Juan, asegurándose de que esté perfectamente nivelada y segura.</li>
                                    <li>Sellado y Limpieza: Finalmente, se sella la losa para protegerla y se limpia para que esté lista para su uso.</li>
                                </ol>
                            </span>
                        </div>
                        <div class="text-center">
                            <a class="btn-link">¿Cómo se calculó el material?</a>
                        </div>
                        
                    </div>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col">
                    <div class="col">
                        <label class="fw-semibold">Resultados:</label>
                        <div class="bg-secondary bg-opacity-25 p-2">
                            <span>
                                La nueva barra de cocina de granito negro proporciona un aspecto moderno y elegante a la cocina del usuario, además de ofrecer una superficie duradera y funcional para la preparación de alimentos y la socialización. El usuario está muy satisfecho con el resultado final.
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer bg-white">
        <button type="button" class="btn btn-light-info text-info btn-lg px-4 fs-3 font-medium">Descargar</button>
        <button type="button" class="btn btn-light-info text-info btn-lg px-4 fs-3 font-medium" 
                (click)="c('Save click')">Cerrar</button>
    </div>
</ng-template>
<!-- Mi modal End -->